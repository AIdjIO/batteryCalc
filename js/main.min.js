import*as batt from"./batterycalc.min..js";(function(e,t,a){"use strict";t.behaviors.plotlyjs={attach:function(t,a){batt.updatePlotly();let l=[...document.querySelectorAll("input[type=number], select, input[type=radio], textarea")];l.forEach(e=>{e.addEventListener("change",batt.updatePlotly)});let o=new DataTable("#cell_table",{responsive:!0,fixedHeader:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,columnDefs:[{defaultContent:"-",targets:"_all"}],select:{style:"os",selector:"td:first-child",headerCheckbox:!1},layout:{bottom:{searchPanes:{initCollapsed:!0,viewTotal:!0,layout:"columns-4",columns:[2,3,4,5]}},topStart:{buttons:[{extend:"excelHtml5",title:"Cell DB"},{extend:"pdfHtml5",title:"Cell DB",download:"open"}]}}}),n=o.columns().header().map(e=>e.textContent).toArray();n.shift();let i={"edit-cell-voltage-nom":"nom_v","edit-cell-voltage-max":"max_v","edit-cell-voltage-min":"cutoff_v","edit-width":"width_mm","edit-height":"height_mm","edit-depth":"depth_mm","edit-diameter":"dia_mm","edit-cell-capacity":"ah_rate","edit-cell-mass":"mass_g"};o.rows().nodes().to$().find('input[type=radio][data-drupal-selector*="edit-cell-table-"]').each(function(e,t){let a=o.row(t.parentNode.parentNode).data();a.shift(),0==e&&Object.keys(i).forEach(e=>{let t=Object.fromEntries(n.map((e,t)=>[e,a[t]]));document.querySelector("input[data-drupal-selector="+e+"]").value=t[i[e]]}),t.addEventListener("click",()=>{let e=Object.fromEntries(n.map((e,t)=>[e,a[t]]));Object.keys(i).forEach(t=>{document.querySelector("input[data-drupal-selector="+t+"]").value=e[i[t]]})})}),document.querySelector("div.dtsp-verticalPanes").appendChild(o.searchPanes.container().get(0)),e(document).on("shown.bs.tab",function(t){for(var a=e(".tab-pane.active .js-plotly-plot"),l=0;l<a.length;l++)Plotly.relayout(a[l],{autosize:!0})})}}})(jQuery,Drupal);