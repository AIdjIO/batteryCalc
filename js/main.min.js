import*as batt from"./batterycalc.min.js";(function(t,e,l){"use strict";e.behaviors.plotlyjs={attach:function(e,l){let a=[...document.querySelectorAll("input[type=number], select, input[type=radio], textarea")];a.forEach(t=>{t.addEventListener("change",batt.updatePlotly)});let o=new DataTable("#cell_table",{destroy:!0,responsive:{details:!1},bAutoWidth:!0,paging:!0,scrollX:!1,columnDefs:[{defaultContent:"-",targets:"_all",className:"dt-body-left"},{target:[1,7,8,10,17,18,19,21,22,23,24,25],visible:!1}],layout:{topEnd:{searchPanes:{initCollapsed:!0,viewTotal:!0,layout:"columns-4",columns:[2,5,4,3]}},topStart:{buttons:[{extend:"copyHtml5"},{extend:"csvHtml5"},{extend:"excelHtml5",title:"Cell DB"},{extend:"pdfHtml5",title:"Cell DB",download:"open",exportOptions:{modifier:{page:"current"}}}]},bottomEnd:{paging:{buttons:3}}}}),n=o.columns().header().map(t=>t.textContent).toArray();console.log(n),n.shift(),console.log(n);let d={"edit-cell-voltage-nom":"nom_v","edit-cell-voltage-max":"max_v","edit-cell-voltage-min":"cutoff_v","edit-width":"width_mm","edit-height":"height_mm","edit-depth":"depth_mm","edit-diameter":"dia_mm","edit-cell-capacity":"ah_rate","edit-cell-mass":"mass_g"};o.rows().nodes().to$().find('input[type=radio][data-drupal-selector*="edit-cell-table-"]').each(function(t,e){let l=o.row(e.parentNode.parentNode).data();l.shift(),0==t&&Object.keys(d).forEach(t=>{let e=Object.fromEntries(n.map((t,e)=>[t,l[e]]));document.querySelector("input[data-drupal-selector="+t+"]").value=e[d[t]]}),e.addEventListener("click",()=>{let t=Object.fromEntries(n.map((t,e)=>[t,l[e]]));Object.keys(d).forEach(e=>{document.querySelector("input[data-drupal-selector="+e+"]").value=t[d[e]]})})}),batt.updatePlotly(),o.columns.adjust(),t(document).on("shown.bs.tab",function(e){for(var l=t(".tab-pane.active .js-plotly-plot"),a=0;a<l.length;a++)Plotly.relayout(l[a],{autosize:!0})})}}})(jQuery,Drupal);